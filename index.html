
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
    <title>지도</title>
    <script type="text/javascript" src="https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId=t32rkm7gch"></script>
</head>
<body>
    <div id="map" style="width:100%;height:460px;"></div>

    <script>

        var sejong = new naver.maps.LatLng(37.551242, 127.073882);           //세종대

        var map = new naver.maps.Map('map', {
            center: sejong,
            zoom: 12,
            mapTypeId: naver.maps.MapTypeId.HYBRID
        });

        var polyline = new naver.maps.Polyline({            //폴리라인
            map: map,
            path: [],
            strokeColor: '#b73a3c',
            strokeWeight: 2
        });

        var markers = [];

        function delete_all() {
            for (var i = 0, ii = markers.length; i < ii; i++) {
                markers[i].setMap(null)
            }
            polyline.setMap(null);
            markers = [];

            map.setCenter(sejong);

            polyline = new naver.maps.Polyline({            //폴리라인
                map: map,
                path: [],
                strokeColor: '#b73a3c',
                strokeWeight: 2
            });
        }

        var imgFile = '<button type="button"><span class="text">Delete</span></button>';
        /*var imgFile ='<a href="http://ifh.cc/l-yyiAF"><img src="http://ifh.cc/g/yyiAF.png" border="0"></a>';*/

        var customControl = new naver.maps.CustomControl(imgFile, {
            position: naver.maps.Position.TOP_LEFT
        });

        customControl.setMap(map);

        var domEventListener = naver.maps.Event.addDOMListener(customControl.getElement(), 'click', function () {
            delete_all()
        });

        var EventListener = window.addEventListener("hashchange", function () {
            var hash = window.location.hash.substring(1); //Puts hash in variable, and removes the # character
            var pos = hash.split(',');
            var point =  naver.maps.LatLng(pos[0], pos[1]);  ;
            map: map;
            var path = polyline.getPath();
            path.push(point);

            var mark = new naver.maps.Marker({
                position: point,
                map: map,
                icon: {
                    url: 'C:/Users/SAMSUNG/Desktop/Map/x.png',

                    anchor: new naver.maps.Point(4, 4)
                }
            });

            markers.push(mark);
            map.setCenter(point);

        });

    </script>
</body>
</html>